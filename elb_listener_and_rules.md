# 로드 밸런서를 사용할 때 주의점

<br /><br />

* http 접속시 리디렉션 설정
---

```
https 접속이 아닌 http 접속 시,
실제 운영 되는 사이트는 http 프로토콜에 보안 소켓 계층(SSL)을 사용한 https를 사용할 수 있게끔 리디렉션 되어야 한다.
```

<br />

```
작업
│
├─ 작업 유형
│  │ 
│  ├─ 라우팅 액션
│  │  │ 
│  │  ├─ 대상 그룹으로 전달
│  │  ├─ URL로 리디렉션
│  │  ├─ 고정 응답 반환
│  │  │
│  │
│

위에 경로에서 URL로 리디렉션을 선택한다.
```

<br />

```
"URI 부분", "전체 URL 옵션" 중 한 가지를 선택할 수 있는데,
URI 부분을 선택하고 프로토콜은 HTTPS, 포트는 443
(밑에 사용자 지정 호스트, 경로, 쿼리를 사용하시오... 옵션은 체크 해제)
상태 코드는 302를 선택한다.
```

<br />

```
다음을 누르면 최종적으로

작업(다음 수행)
리디렉션 대상 HTTPS://#{host}:443/#{path}?#{query}
상태 코드: HTTP_302
이처럼 적용된 것을 알 수 있다.

변경 내용 저장을 누르고 나온다.
```

<br /><br /><br />

* 301, 302 차이점
---

1. HTTP 301 Moved Permanently
```
이 상태 코드는 요청한 리소스가 새로운 위치로 영구적으로 이동되었음을 나타낸다.
클라이언트는 이후 요청 시 새로운 URI(Uniform Resource Identifier)를 사용해야 한다.
예를 들어, 웹 페이지의 URL이 변경되었을 때 클라이언트에게 새로운 URL을 알려주기 위해 사용됩니다.
```

<br />

2. HTTP 302 Found (임시 이동):
```
이 상태 코드는 요청한 리소스가 일시적으로 다른 위치에 있음을 나타낸다.
클라이언트는 임시적으로 새로운 URI를 사용하고,
이후 요청에서 원래의 URI를 계속 사용할 수 있다.

예를 들어, 로그인 페이지에서 사용자를 인증 후 원래 요청했던 페이지로 리디렉션할 때 사용될 수 있다.
```

<br /><br />

```
정리하자면,
301은 리소스가 영구적으로 이동되었을 때 사용되고, 302는 임시로 이동되었을 때 사용된다고 볼 수 있다.

마지막으로 301은 브라우저에서 자동으로 캐싱이 된다.
잦은 리소스 변경이 있는 사이트에서 http를 https로 프로토콜 변경이 필요할 때는 302가 적절할 수 있다.
```
