# 기본적인 궁금한 점을 정리해보자!

<br/>

1. AWS 로그인
```
루트 사용자: 처음 AWS계정을 생성하고,
단일 로그인을 통해 모든 AWS 서비스 및 리소스에 대한 완전한 접근 권한을 가진 사용자를 말한다.
```
```
IAM 사용자: 루트사용자 계정의 리소스를 관리하고 사용할 수 있는 권한을 가진 "가상의 사용자" 를 말한다.
```
```
좀 더 자세히 말하자면, 루트사용자가 IAM 사용자를 생성 하면, IAM 사용자가 사용할 ID와 비밀번호가 만들어진다. 
루트 사용자 계정에 접근 할 가상의 사용자를 만드는 것이다. 
이때, 루트 사용자는 IAM사용자가 어디까지 접근할 수 있는지 적절하게 권한을 부여할 수 있다.

IAM 사용자들은 부여받은 권한 정도에 따라, 인스턴스를 생성하거나 종료하고, 
데이터베이스를 관리하고, 스토리지를 사용하고, 네트워크를 설정하는 등 다양한 작업을 수행할 수 있다.

즉, 루트 사용자의 계정의 리소스를 권한에 맞게 이용하는 "가상의 신분"을 IAM 사용자라고 할 수 있다.
```

<br/>

2. EC2
```
EC2 서비스는 가상 PC를 빌려 사용하는 것이다.
여기서 사용되는 각각의 컴퓨터를 "인스턴스"라고 한다.

필요한 목적에 따라 가상의 컴퓨터인 EC2 인스턴스의 운영체제와 사양을 선택해야 한다.
(애플리케이션 및 OS 이미지(Amazon Machine Image)를 설정 한다.)
```
```
AMI: 커스텀 PC처럼 AWS에서 제공하는 공식 AMI뿐만 아니라 사용자가 직접 정의한 AMI를 생성할 수도 있다.
```

<br/>

3. VPC(1)
```
인스턴스를 생성하기 위해서는 VPC를 설정해야 한다.
```
```
그전에 리전과, 가용 영역에 대해 알아보자.
AWS 서비스들을 제공하기 위해서는 실제 데이터를 저장할 데이터 센터가 필요하기 때문이다.

* 리전(Region)은 가용 영역이 2개 이상 구성된 지리적 영역이다.
국가/도시 단위 별로 서비스를 제공하기 위한 단위로 사용 된다.

* 가용 영역(Availability Zone) 은 같은 지역 내에서 물리적으로 독립된 데이터 센터들의 그룹을 뜻한다.
```
```
ex) AWS 서울 리전 (ap-northeast-2)은 현재 3개의 가용 영역(서울에 위치해 있는 데이터 센터 그룹)을 보유하고 있다.
이렇게 지역별로 서비스를 제공함으로써 네트워크 속도를 높이고, 데이터 지역성을 고려한 서비스를 제공할 수 있다.
```
```
VPC(Virtual Private Cloud) 는 가상 사설 네트워크이다.

쉽게 말하자면, AWS클라우드에서 독립된 "나만의 개인 네트워크 망"을 만드는 것이다.

나만의 네트워크 망을 만들기 위해서는,

1) 내 네트워크 망이 어느 지역에 속할지 설정해야 한다.
즉, 하나의 “리전”을 선택해야 한다.

2) 내 네트워크 망이 사용 할 IP 주소 범위를 설정해야 한다.
후술할 "IPv4 CIDR 블록" 설정을 통해 IP주소 대역을 설정하면,
이 VPC 내에서 사용되는 모든 리소스들은 사용자가 지정한 IP 주소 범위 내에서 IP주소를 할당받게 된다.
ex) AWS region --------------------------------------------------
    └ VPC
      └ Availability Zone(가용 영역)
    -------------------------------------------------------------
```
```
VPC에 IP 주소 범위를 정해야하는 이유는?

만약 네이버라는 기업 네트워크가 있다고 가정해보자.
이 기업 네트워크에 연결될 장치들(컴퓨터, 휴대폰 등)의 수가 최대 50개라면, IP주소 개수가 50개면 된다.

IP주소는 소중한 자원이기 때문에 이를 효율적으로 할당하고 관리하기 위해 IP주소가 50개만 나올 수있는 네트워크 주소 범위를 정하는 것이다.

즉, 주소 범위를 정하면, 범위만큼의 IP주소 개수를 할당할 수 있는 것이다.
```

<br>

4. VPC(2)
```
IPv4 CIDR 블록은 CIDR 표기법을 사용하여 표현된 IPv4 주소 범위를 말한다.

결론부터 말하자면, CIDR란 서브넷 마스크를 사용해 IP 주소 범위를 표현하는 주소 체계 이다.
CIDR 주소체계를 통해 네트워크의 IP주소 할당을 더 효율적으로 관리할 수 있게 되었다.
```
```
IP 주소의 구조

IP주소의 구조는 192.168.1.0 과 같이 .을 구분자로 한 4개의 숫자로 이루어져 있고,
네트워크 ID와 호스트 ID로 구성 된다.

예를 들어, 데이터는 IP주소를 통해, 선릉 캠퍼스 중 이레라는 사람을 찾아와야 한다.
"네트워크 ID는 집 주소 = 서울시 강남구 선릉역 성담빌딩 13층", "호스트 ID는 내 이름 = 이레"로 이루어진 꼴이다.
```
```
네트워크 내에서 IP주소를 할당하는 방법 (old.ver)

이전에는 고정된 크기의 IP 주소 범위(A,B,C 클래스) 을 사용하여 네트워크를 구성했다.

ex)
1) IP 주소의 첫 번째 숫자를 네트워크 ID로 사용하고,
나머지 세 개의 숫자를 호스트 ID로 사용하는 IP 주소범위를 A 클래스

2) IP 주소의 첫 번째와 두 번째 숫자를 네트워크 ID로 사용하고,
나머지 두 개의 숫자를 호스트 ID로 사용하는 IP 주소범위를 B 클래스

3) IP 주소의 세 개의 숫자를 네트워크 ID로 사용하고,
나머지 한 개의 숫자를 호스트 ID로 사용하는 IP 주소범위를 C 클래스 와 같이 고정된 주소 범위(클래스)를 통해 네트워크의 크기를 결정했다.

즉, 하나의 네트워크가 선택할 수 있는 IP주소 범위는 A,B,C 세 가지 중 하나였던 것이다.
```
```
* 고정된 주소 범위로 네트워크를 구성하는 것의 문제점
예를 들어, 네이버라는 회사는 IP주소가 50개만 필요하다.
그 중 C클래스가 가장 작은 네트워크 규모(=IP 주소범위)를 갖고 있기 때문에,
네이버라는 회사는 C클래스의 네트워크 망을 구성하게 된다.
하지만, C 클래스의 주소범위는 192.0.0.0 ~ 223.255.255.255 이고,
IP 주소의 처음 세 개의 숫자가 네트워크 ID로 사용되면, 호스트 ID의 개수는 0~255로 256개가 된다.
네이버라는 회사에서는 IP주소가 50개만 필요하다고 했는데,
나머지 106개의 소중한 IP주소 자원은 쓰이지 않고 버려지게 되는 상황이 발생 한다.
```
```
IP주소를 효율적으로 할당하는 새로운 방식 CIDR (new.ver)

그래서 등장한 것이 CIDR(Classless Inter-Domain Routing)라는 클래스 없는 IP주소 할당 방식이다.
네트워크에 연결된 장치 수(호스트 수)에 따라 효율적으로 사용할 수 있는 서브넷(Subnet) 을 만드는 것이다.
쉽게 말하자면 "서브넷은 IP주소 범위(블록)을 더 작은 범위(블록)으로 나누어 네트워크를 구성"하는 것을 말한다.
```
```
더 큰 네트워크를 분할한 더 작은 하위 네트워크 "서브넷"
서브넷을 만든다는 것 은 호스트ID 영역을 더 잘게 쪼개어 네트워크ID 영역을 늘리는 작업(서브네팅) 을 뜻한다.

예를 들어, 네이버는 50개의 IP주소만이 필요하다고 가정하면,
IP주소 범위가 192.167.10.0 ~ 192.167.10.255인 네트워크는 호스트 IP 범위가 (0~255)로 256개의 IP를 할당할수 있다.이 네트워크를 더 작은 범위의 네트워크(서브넷)으로 분할해, 네이버가 가져가도록 하게 하면 될 것이다.
호스트ID 영역을 1/4로 줄여서, 네이버는 64개의 호스트 수를 갖는 네트워크(서브넷)를 구성하게 된다.
호스트ID 영역이 3/4인 나머지 네트워크(서브넷)는 다른 기관이 쓸 수 있게 될 것이다.

네트워크 ID영역을 늘려 더 작은 네트워크(서브넷)를 구성함으로써, IP 주소 낭비가 획기적으로 줄어들게 된다.
```
```
CIDR(Classless Inter-Domain Routing)이란?

지금까지, 고정된 주소범위(클래스)에 국한되지 않고,
네트워크 ID영역의 크기 조절을 통해 IP주소를 유연하게 할당하는 방식에 대해 배웠다.
이렇게 잘게 쪼개어진 네트워크까지 표현하기 위한 IP주소 체계를 CIDR이라고 한다.

앞서, CIDR란 서브넷 마스크를 사용해 IP 주소 범위를 표현하는 주소 체계 라고 설명했다.
서브넷 마스크란 해당 네트워크의 네트워크 ID 부분의 비트 수를 말하는데,
서브넷 마스크를 통해 호스트 ID의 비트 수, 즉 IP 주소 범위를 알 수 있게 된다.

ex)
줄어든 네이버의 네트워크 IP 주소 범위 는 192.167.10.0~ 192.167.10.63이라 가정하자.
이를 CIDR 형식으로 나타내면, "192.167.10.0/26" 으로 표현할 수 있다.

CIDR 주소의 “/26”는 네트워크 ID부분의 비트 수(서브넷 마스크의 길이)를 의미 한다.
즉, 192.167.10.0/26 는 네트워크 ID 영역이 26비트이고 호스트 ID 영역이 6비트인 네트워크 를 표현하는 것이다.
```
```
마지막, VPC 생성하기 및 인스턴스에 적용하기

VPC를 생성하기 위해서는 필요한 두가지가 있다.

1) 리전을 적용해야한다. 사용자가 선택한 리전으로 자동 적용 된다.
2) IPv4 CIDR 블록으로 VPC의 IP 대역(네트워크 주소범위)을 설정해야 한다.

ex)
IPv4 CIDR 블록이 192.168.0.0/16라는 것은, 네트워크 ID 영역이 16비트라는 뜻이다.
이 네트워크에서 IP 주소 할당 가능한 호스트 수는 2의 16승(=16비트)으로, 65,536개가 된다.
```
```
* 서브넷과 서브넷 마스크 상세 설명

서브넷(Subnet)은 IP 주소 범위를 나누어 네트워크를 세분화하는 네트워크의 하위 부분을 나타낸다.
서브넷을 사용하면 하나의 대규모 네트워크를 여러 작은 네트워크로 분할하여 효율적인 네트워크 관리와 보안 설정을 가능하게 한다.

서브넷 마스크(Subnet Mask)는 IP 주소 범위에서 서브넷의 경계를 정의하는데 사용되는 32비트 숫자이다.
이진 형태로 표현되며, 서브넷 마스크의 이진 비트가 "1"로 설정된 부분은 해당 IP 주소가 서브넷의 일부임을 나타내고,
"0"으로 설정된 부분은 서브넷의 범위를 나타낸다.
이렇게 서브넷 마스크를 사용하여 IP 주소 범위를 서브넷으로 분할할 수 있다.

예를 들어, 서브넷 마스크가 "255.255.255.0"인 경우, 이는 IP 주소의 처음 24비트가 네트워크 주소를 나타내고,
나머지 8비트가 호스트 주소를 나타내는 것을 의미한다.
이렇게 서브넷 마스크를 설정하여 IP 주소 범위를 서브넷으로 나눌 수 있으며, 각 서브넷은 고유한 네트워크 주소 범위를 갖는다.
이를 통해 네트워크 관리와 트래픽 분리를 용이하게 할 수 있다.
```
